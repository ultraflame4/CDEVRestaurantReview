import{p as r,r as l,G as x,j as e,a as i,L as R,S as _,b as h,I as y,C as p,d as f,c as g,R as q}from"./index.2c58c893.js";const w="_nearbyItem_1h8zh_3",v="_nearbyItemInfoCtn_1h8zh_63",N="_review_1h8zh_141",S="_reviewIcon_1h8zh_211",C="_nearbyItemRating_1h8zh_227",z="_restaurant_tagslist_1h8zh_269",L="_nearbyItemCost_1h8zh_333",T="_nearbyItemDistance_1h8zh_343",$="_topRatedItem_1h8zh_367",a={nearbyItem:w,nearbyItemInfoCtn:v,review:N,reviewIcon:S,nearbyItemRating:C,restaurant_tagslist:z,nearbyItemCost:L,nearbyItemDistance:T,topRatedItem:$};function b(n){var d;const[o,u]=l.exports.useState("");return l.exports.useEffect(()=>{x(n.id,1).then(m=>{var s,t;console.log(m),u((t=(s=m[0])==null?void 0:s.content)!=null?t:"No reviews yet")})},[n.id]),e("li",{className:`${a.nearbyItem} card`,children:i(R,{to:`/restaurant/${n.id}`,children:[e("img",{src:n.imageSrc}),i("div",{className:a.nearbyItemInfoCtn,children:[e("h3",{children:n.name}),i("div",{className:a.nearbyItemRating,children:[e("span",{children:n.reviews_count}),e(_,{rating:n.rating})]}),e("ul",{className:a.restaurant_tagslist,children:(d=n.tags)==null?void 0:d.map((m,s)=>e("li",{children:m},s))}),e("p",{children:e(h,{text:n.desc,sep:"<br>"})}),i("div",{className:a.review,children:[e(y,{icon:"ic:chat",className:a.reviewIcon}),e("p",{children:e(h,{text:o,sep:"<br>"})}),e("span",{})]}),e("span",{className:a.nearbyItemCost,children:e(p,{rating:n.cost})}),i("span",{className:a.nearbyItemDistance,children:[n.distance,"km"]})]})]})})}b.propType={id:r.exports.number.isRequired,tags:r.exports.arrayOf(r.exports.string).isRequired,name:r.exports.string.isRequired,rating:r.exports.number.isRequired,cost:r.exports.number.isRequired,desc:r.exports.string.isRequired,imageSrc:r.exports.string.isRequired,distance:r.exports.number.isRequired,reviews_count:r.exports.number.isRequired,hidden:r.exports.bool.isRequired};function I(n){var o;return e("li",{className:`${a.topRatedItem}`,children:i(R,{to:`/restaurant/${n.id}`,children:[e("img",{src:n.imageSrc}),e("h3",{children:n.name}),i("span",{children:[e(_,{rating:n.rating})," "]}),e("ul",{className:a.restaurant_tagslist,children:(o=n.tags)==null?void 0:o.map((u,d)=>e("li",{children:u},d))}),i("span",{children:[e(p,{rating:n.cost})," "]})]})})}I.propType={id:r.exports.number.isRequired,tags:r.exports.arrayOf(r.exports.string).isRequired,name:r.exports.string.isRequired,rating:r.exports.number.isRequired,cost:r.exports.number.isRequired,desc:r.exports.string.isRequired,imageSrc:r.exports.string.isRequired,distance:r.exports.number.isRequired,reviews_count:r.exports.number.isRequired,hidden:r.exports.bool.isRequired};const j=f(n=>{const[o,u]=l.exports.useState([]),[d,m]=l.exports.useState([]),s=l.exports.useRef(null);return l.exports.useEffect(()=>{g(0,3,0,4).then(c=>{u(c)}),g(0,1,1,6).then(c=>{m(c)});let t=setInterval(()=>{s.current.scrollLeft/(s.current.scrollWidth-s.current.clientWidth)>=.9?s.current.scrollTo({left:0,behavior:"smooth"}):s.current.scrollBy({left:s.current.clientWidth,behavior:"smooth"})},2e3);return()=>{clearInterval(t)}},[!0]),i("main",{children:[e("section",{id:"recommendations-banner",children:i("div",{children:[i("div",{id:"recommended-list",children:[e("h1",{children:"Recommended near you"}),e("ul",{ref:s,children:o.map((t,c)=>e(b,{id:t.id,tags:t.tags,rating:parseFloat(t.avg_rating),cost:t.cost_rating/2,name:t.name,desc:t.description,imageSrc:t.photo_url,reviews_count:t.reviews_count,distance:Math.round(t.distance/10)/100},c))})]}),i("div",{id:"top-rated-list",className:"card",children:[e("h2",{children:"Top rated"}),e("ul",{children:d.map((t,c)=>e(I,{id:t.id,tags:t.tags,rating:parseFloat(t.avg_rating),cost:t.cost_rating/2,name:t.name,desc:t.description,imageSrc:t.photo_url,reviews_count:t.reviews_count,distance:Math.round(t.distance/10)/100},c))})]})]})}),e("section",{id:"allrestaurants",children:e(q,{title:"All Restaurants"})})]})});export{j as default};
